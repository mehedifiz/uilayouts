{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "media-modal",
  "type": "registry:component",
  "dependencies": [
    "motion",
    "lucide-react"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "./components/ui/modal/media-modal.tsx",
      "content": "'use client';\r\nimport React, { useEffect, useId, useState } from 'react';\r\nimport { AnimatePresence, motion, MotionConfig } from 'motion/react';\r\nimport { useMediaQuery } from '@/hooks/use-media-query';\r\nimport { XIcon } from 'lucide-react';\r\nimport { transition } from '@/lib/utils';\r\n\r\ninterface IMediaModal {\r\n  imgSrc?: string;\r\n  videoSrc?: string;\r\n  className?: string;\r\n}\r\n\r\nexport function MediaModal({ imgSrc, videoSrc, className }: IMediaModal) {\r\n  const [isMediaModalOpen, setIsMediaModalOpen] = useState(false);\r\n  const isDesktop = useMediaQuery('(min-width:768px)');\r\n  const uniqueId = useId();\r\n\r\n  useEffect(() => {\r\n    if (isMediaModalOpen) {\r\n      document.body.classList.add('overflow-hidden');\r\n    } else {\r\n      document.body.classList.remove('overflow-hidden');\r\n    }\r\n\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      if (event.key === 'Escape') {\r\n        setIsMediaModalOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [isMediaModalOpen]);\r\n  return (\r\n    <>\r\n      <MotionConfig transition={transition}>\r\n        <>\r\n          <motion.div\r\n            // @ts-ignore\r\n            className='w-full h-full flex relative  flex-col overflow-hidden border    dark:bg-black bg-gray-300 hover:bg-gray-200 dark:hover:bg-gray-950'\r\n            layoutId={`dialog-${uniqueId}`}\r\n            style={{\r\n              borderRadius: '12px',\r\n            }}\r\n            onClick={() => {\r\n              setIsMediaModalOpen(true);\r\n            }}\r\n          >\r\n            {imgSrc && (\r\n              <motion.div\r\n                layoutId={`dialog-img-${uniqueId}`}\r\n                className='w-full h-full'\r\n              >\r\n                {/* eslint-disable-next-line @next/next/no-img-element */}\r\n                <img\r\n                  src={imgSrc}\r\n                  alt='A desk lamp designed by Edouard Wilfrid Buquet in 1925. It features a double-arm design and is made from nickel-plated brass, aluminium and varnished wood.'\r\n                  className=' w-full object-cover h-full'\r\n                />\r\n              </motion.div>\r\n            )}\r\n            {videoSrc && (\r\n              <motion.div\r\n                layoutId={`dialog-video-${uniqueId}`}\r\n                className='w-full h-full'\r\n              >\r\n                <video\r\n                  autoPlay\r\n                  muted\r\n                  loop\r\n                  className='h-full w-full object-cover  rounded-sm'\r\n                >\r\n                  <source src={videoSrc!} type='video/mp4' />\r\n                </video>\r\n              </motion.div>\r\n            )}\r\n          </motion.div>\r\n        </>\r\n        {/* {createPortal( */}\r\n        <AnimatePresence initial={false} mode='sync'>\r\n          {isMediaModalOpen && (\r\n            <>\r\n              <motion.div\r\n                key={`backdrop-${uniqueId}`}\r\n                className='fixed inset-0 h-full w-full z-50  dark:bg-black/25 bg-white/95 backdrop-blur-sm '\r\n                variants={{ open: { opacity: 1 }, closed: { opacity: 0 } }}\r\n                initial='closed'\r\n                animate='open'\r\n                exit='closed'\r\n                onClick={() => {\r\n                  setIsMediaModalOpen(false);\r\n                }}\r\n              />\r\n              <motion.div\r\n                key='dialog'\r\n                className='pointer-events-none fixed inset-0 flex items-center justify-center z-50'\r\n              >\r\n                <motion.div\r\n                  className='pointer-events-auto relative flex flex-col overflow-hidden   dark:bg-gray-950 bg-gray-200 border w-[80%] h-[90%] '\r\n                  layoutId={`dialog-${uniqueId}`}\r\n                  tabIndex={-1}\r\n                  style={{\r\n                    borderRadius: '24px',\r\n                  }}\r\n                >\r\n                  {imgSrc && (\r\n                    <motion.div\r\n                      layoutId={`dialog-img-${uniqueId}`}\r\n                      className='w-full h-full'\r\n                    >\r\n                      {/* eslint-disable-next-line @next/next/no-img-element */}\r\n                      <img\r\n                        src={imgSrc}\r\n                        alt=''\r\n                        className='h-full w-full object-cover'\r\n                      />\r\n                    </motion.div>\r\n                  )}\r\n                  {videoSrc && (\r\n                    <motion.div\r\n                      layoutId={`dialog-video-${uniqueId}`}\r\n                      className='w-full h-full'\r\n                    >\r\n                      <video\r\n                        autoPlay\r\n                        muted\r\n                        loop\r\n                        controls\r\n                        className='h-full w-full object-cover  rounded-sm'\r\n                      >\r\n                        <source src={videoSrc!} type='video/mp4' />\r\n                      </video>\r\n                    </motion.div>\r\n                  )}\r\n\r\n                  <button\r\n                    onClick={() => setIsMediaModalOpen(false)}\r\n                    className='absolute right-6 top-6 p-3 text-zinc-50 cursor-pointer dark:bg-gray-900 bg-gray-400 hover:bg-gray-500 rounded-xl dark:hover:bg-gray-800'\r\n                    type='button'\r\n                    aria-label='Close dialog'\r\n                  >\r\n                    <XIcon size={24} />\r\n                  </button>\r\n                </motion.div>\r\n              </motion.div>\r\n            </>\r\n          )}\r\n        </AnimatePresence>\r\n        {/* , */}\r\n        {/*    document.body\r\n       )} */}\r\n      </MotionConfig>\r\n    </>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    }
  ]
}